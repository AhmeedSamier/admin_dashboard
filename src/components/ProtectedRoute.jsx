import React from 'react';
import { Navigate, Outlet } from 'react-router-dom';
import { useAuth } from './context/AuthContext'; // ๐ ูุฌุจ ุงูุชุฃูุฏ ูู ุตุญุฉ ูุณุงุฑ ุงูุงุณุชูุฑุงุฏ

/**
 * ูููู ูุญูุงูุฉ ุงููุณุงุฑุงุช: ูุณูุญ ุจุงููุตูู ููุท ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌูุงู ููุฏุฎูู.
 *
 * @returns {JSX.Element}
 */
const ProtectedRoute = () => {
  // 1. ุงุณุชุฎุฏุงู ููู useAuth ูุฌูุจ ุญุงูุฉ ุงููุณุชุฎุฏู ุงูุญุงูู
  const { currentUser } = useAuth();

  // 2. ุงูุชุญูู ูู ุญุงูุฉ ุงููุณุชุฎุฏู
  
  // ุฅุฐุง ูุงู ููุงู ูุณุชุฎุฏู (ูุณุฌู ููุฏุฎูู)ุ ุงุนุฑุถ ุงููุญุชูู ุงููุชุฏุงุฎู (ุงููุณุงุฑ ุงููุฑุนู).
  if (currentUser) {
    return <Outlet />;
  }

  // ุฅุฐุง ูู ููู ููุงู ูุณุชุฎุฏูุ ุฃุนุฏ ุชูุฌููู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.
  // replace: ูููุน ุงููุณุชุฎุฏู ูู ุงูุฑุฌูุน ูุตูุญุฉ ููุญุฉ ุงูููุงุฏุฉ ุจุงุณุชุฎุฏุงู ุฒุฑ ุงูุนูุฏุฉ ูู ุงููุชุตูุญ.
  return <Navigate to="/signin" replace />;
};

export default ProtectedRoute;